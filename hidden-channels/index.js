(function(o,i,u,n,g,m){"use strict";const{View:h,Text:l,Pressable:C}=i.findByProps("Button","Text","View"),f=i.findByProps("extractTimestamp"),a=n.stylesheet.createThemedStyleSheet({container:{flex:1,padding:16,alignItems:"center",justifyContent:"center"},title:{fontFamily:n.constants.Fonts.PRIMARY_SEMIBOLD,fontSize:24,textAlign:"left",color:g.semanticColors.HEADER_PRIMARY,paddingVertical:25},text:{flex:1,flexDirection:"row",fontSize:16,textAlign:"justify",color:g.semanticColors.HEADER_PRIMARY},dateContainer:{height:16,alignSelf:"baseline"}});function c(t){let{date:e}=t;return React.createElement(C,{style:a.dateContainer,onPress:function(){n.toasts.open({content:n.moment(e).toLocaleString(),source:m.getAssetByName("clock").id})},onLongPress:function(){n.clipboard.setString(e.getTime().toString()),n.toasts.open({content:"Copied to clipboard"})}},React.createElement(l,{style:a.text},n.moment(e).fromNow()))}function y(t){let{channel:e}=t;return React.createElement(h,{style:a.container},React.createElement(l,{style:a.title},"This channel is hidden."),React.createElement(l,{style:a.text},"Topic: ",e.topic||"No topic.",`

`,"Creation date: ",React.createElement(c,{date:new Date(f.extractTimestamp(e.id))}),`

`,"Last message: ",e.lastMessageId?React.createElement(c,{date:new Date(f.extractTimestamp(e.lastMessageId))}):"No messages.",`

`,"Last pin: ",e.lastPinTimestamp?React.createElement(c,{date:new Date(e.lastPinTimestamp)}):"No pins."))}let r=[];const R=["MessagesWrapperConnected","ChannelMessages","MessageActionCreators","MessagePreviewStore","GuildBasicChannels","ChannelStore"];for(const t of R){const e=vendetta.modules.findByName(t,!1)||vendetta.modules.findByProps(t);console.log(`[Hidden Channels Debug] ${t}:`,e)}const p=vendetta.modules.findByName("ChannelMessages",!1)||vendetta.modules.findByProps("ChannelMessages");console.log("[Hidden Channels Debug] ChannelMessages:",p),console.log("[Hidden Channels Debug] ChannelMessages prototype:",p?.prototype);function M(){const t=i.findByName("MessagesWrapperConnected",!1);if(!t){console.error("Hidden Channels plugin: 'MessagesWrapperConnected' component not found.");return}r.push(u.instead("default",t,function(e,d){const s=e[0]?.channel;return!s||typeof d!="function"?d(...e):isHidden(s)?(console.log("Hidden Channels plugin: Rendering HiddenChannel UI for hidden channel:",s.id),React.createElement(y,{channel:s})):d(...e)}))}function E(){for(const t of r)t();r=[]}return o.onLoad=M,o.onUnload=E,o})({},vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.ui,vendetta.ui.assets);
