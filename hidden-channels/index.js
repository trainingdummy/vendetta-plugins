(function(l,c,m,t,f,h){"use strict";const{View:C,Text:r,Pressable:y}=c.findByProps("Button","Text","View"),p=c.findByProps("extractTimestamp"),s=t.stylesheet.createThemedStyleSheet({container:{flex:1,padding:16,alignItems:"center",justifyContent:"center"},title:{fontFamily:t.constants.Fonts.PRIMARY_SEMIBOLD,fontSize:24,textAlign:"left",color:f.semanticColors.HEADER_PRIMARY,paddingVertical:25},text:{flex:1,flexDirection:"row",fontSize:16,textAlign:"justify",color:f.semanticColors.HEADER_PRIMARY},dateContainer:{height:16,alignSelf:"baseline"}});function d(n){let{date:e}=n;return React.createElement(y,{style:s.dateContainer,onPress:function(){t.toasts.open({content:t.moment(e).toLocaleString(),source:h.getAssetByName("clock").id})},onLongPress:function(){t.clipboard.setString(e.getTime().toString()),t.toasts.open({content:"Copied to clipboard"})}},React.createElement(r,{style:s.text},t.moment(e).fromNow()))}function R(n){let{channel:e}=n;return React.createElement(C,{style:s.container},React.createElement(r,{style:s.title},"This channel is hidden."),React.createElement(r,{style:s.text},"Topic: ",e.topic||"No topic.",`

`,"Creation date: ",React.createElement(d,{date:new Date(p.extractTimestamp(e.id))}),`

`,"Last message: ",e.lastMessageId?React.createElement(d,{date:new Date(p.extractTimestamp(e.lastMessageId))}):"No messages.",`

`,"Last pin: ",e.lastPinTimestamp?React.createElement(d,{date:new Date(e.lastPinTimestamp)}):"No pins."))}let g=[];function M(){const n=["MessagesWrapperConnected","ChannelMessages","MessageActionCreators","MessagePreviewStore","GuildBasicChannels","ChannelStore"];for(const a of n){const o=vendetta.modules.findByName(a,!1)||vendetta.modules.findByProps(a);console.log(`[Hidden Channels Debug] ${a}:`,o)}const e=vendetta.modules.findByName("ChannelMessages",!1)||vendetta.modules.findByProps("ChannelMessages");console.log("[Hidden Channels Debug] ChannelMessages:",e),console.log("[Hidden Channels Debug] ChannelMessages prototype:",e?.prototype);const u=c.findByName("MessagesWrapperConnected",!1);if(!u){console.error("Hidden Channels plugin: 'MessagesWrapperConnected' component not found.");return}g.push(m.instead("default",u,function(a,o){const i=a[0]?.channel;return!i||typeof o!="function"?o(...a):isHidden(i)?(console.log("Hidden Channels plugin: Rendering HiddenChannel UI for hidden channel:",i.id),React.createElement(R,{channel:i})):o(...a)}))}function E(){for(const n of g)n();g=[]}return l.onLoad=M,l.onUnload=E,l})({},vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.ui,vendetta.ui.assets);
